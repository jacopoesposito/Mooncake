<!DOCTYPE html>
<html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <title>Mooncake - A payment System for your shop</title>
        
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.4/css/all.css" integrity="sha384-DyZ88mC6Up2uqS4h/KRgHuoeGwBcD4Ng9SiP4dIRy0EXTlnuz47vAwmeGwVChigm" crossorigin="anonymous">
    </head>

    <body style="background-color:rgba(0, 0, 0, 0.9)">
        <nav class="navbar navbar-dark bg-dark">
            <div class="container">
              <a class="navbar-brand" href="#">
                <img src="../static/image/mooncake.png" alt="" width="25" height="25">
                <strong>mooncake</strong>
              </a>
            </div>
        </nav>
                
        <div class="container text-center mt-3 text-light">
            <img src="../static/image/mooncake.png" alt="mooncakelogo" width="70">
            <h1><strong>mooncake</strong></h1>
            <p>Mooncake Ã¨ un esempio di DAPP basata su Ethereum, volta all'implementazione di un sistema di pagamento decentralizzato per un negozio generico</p>
            <a class="btn btn-primary" id="metamaskLogin" onclick="getAccount();"><i class="fab fa-ethereum"></i> Login with MetaMask</a>
            <p>Account: <span class="showAccount"></span></p>
        </div>

        <div class="container col-lg-3 col-sm-9 col-xs-12 mt-5">
            <div class="row">
                <div class="card text-center">
                    <img class="mx-auto mt-2" src="../static/image/mortenera.png" alt="product" width="100">
                    <div class="card-body">
                        <h5 class="card-title">Morte Nera</h5>
                        <p class="card-text">Price: 10ETH</p>
                        <div class="d-grip gap-2 col-lg-12">
                            <a class="btn btn-primary" href="#"><i class="fas fa-hand-holding-usd"></i> Paga</a>
                            <a class="btn btn-warning" href="#"><i class="fas fa-wallet"></i> Paga con il saldo</a>
                        </div>            
                    </div>
                </div>
            </div>
        </div>

        <script>
            const ethereumButton = document.getElementById("metamaskLogin");
            const showAccount = document.querySelector('.showAccount');

            ethereumButton.addEventListener('click', () => {
            getAccount();
            });

            async function getAccount() {
            const accounts = await ethereum.request({ method: 'eth_requestAccounts' });
            const account = accounts[0];
            ethereumButton.remove();
            showAccount.innerHTML = account;
            }
        </script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    </body>
</html>